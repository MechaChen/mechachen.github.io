"use strict";(self.webpackChunkbenson_doc=self.webpackChunkbenson_doc||[]).push([[5565],{3905:(e,t,r)=>{r.d(t,{Zo:()=>i,kt:()=>k});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),u=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},i=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,i=c(e,["components","mdxType","originalType","parentName"]),p=u(r),m=n,k=p["".concat(s,".").concat(m)]||p[m]||d[m]||o;return r?a.createElement(k,l(l({ref:t},i),{},{components:r})):a.createElement(k,l({ref:t},i))}));function k(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,l=new Array(o);l[0]=m;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c[p]="string"==typeof e?e:n,l[1]=c;for(var u=2;u<o;u++)l[u]=r[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},4949:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>c,toc:()=>u});var a=r(7462),n=(r(7294),r(3905));const o={sidebar_position:3.2,sidebar_label:"[Google Docs] Architecture - Infrastructure",title:"[Google Docs] Architecture - Infrastructure",tags:["System Design","Infrastructure"]},l=void 0,c={unversionedId:"Plan/google-doc-system-architecture-infrastructure",id:"Plan/google-doc-system-architecture-infrastructure",title:"[Google Docs] Architecture - Infrastructure",description:"Basic Infrastructure",source:"@site/docs/Plan/google-doc-system-architecture-infrastructure.mdx",sourceDirName:"Plan",slug:"/Plan/google-doc-system-architecture-infrastructure",permalink:"/docs/Plan/google-doc-system-architecture-infrastructure",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Plan/google-doc-system-architecture-infrastructure.mdx",tags:[{label:"System Design",permalink:"/docs/tags/system-design"},{label:"Infrastructure",permalink:"/docs/tags/infrastructure"}],version:"current",lastUpdatedAt:1748482728,formattedLastUpdatedAt:"May 29, 2025",sidebarPosition:3.2,frontMatter:{sidebar_position:3.2,sidebar_label:"[Google Docs] Architecture - Infrastructure",title:"[Google Docs] Architecture - Infrastructure",tags:["System Design","Infrastructure"]},sidebar:"tutorialSidebar",previous:{title:"[Google Docs] Architecture - Conflict Resolution",permalink:"/docs/Plan/google-doc-system-architecture-conflict-resolution"},next:{title:"[Google Docs] Architecture - Network",permalink:"/docs/Plan/google-doc-system-architecture-network"}},s={},u=[{value:"Basic Infrastructure",id:"basic-infrastructure",level:2},{value:"Scalable Infrastructure",id:"scalable-infrastructure",level:2},{value:"References",id:"references",level:2}],i={toc:u},p="wrapper";function d(e){let{components:t,...r}=e;return(0,n.kt)(p,(0,a.Z)({},i,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"basic-infrastructure"},"Basic Infrastructure"),(0,n.kt)("img",{width:"100%",src:"/img/google-doc-basic-infrastructure.png",alt:"Google Docs Basic Infrastructure"}),(0,n.kt)("p",null,"Client-side\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Rich Text Editor")),(0,n.kt)("br",null),(0,n.kt)("p",null,"Server-side\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"WebSocket Server (e.g. AWS EC2)",(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"handle the collaborative editing behaviors, like peer update, peer join, peer leave, etc."))),(0,n.kt)("li",{parentName:"ul"},"WebSocket Load Balancer (e.g. AWS ELB)",(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"the load balancer to proxy server and redirect WebSocket request to server port."))),(0,n.kt)("li",{parentName:"ul"},"Restful API Server (e.g. AWS EC2)",(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"handle user information, like user id, user name, user email, etc."))),(0,n.kt)("li",{parentName:"ul"},"Restful API Load Balancer (e.g. AWS ELB)",(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"the load balancer to proxy server and redirect HTTP, HTTPS request to server port."))),(0,n.kt)("li",{parentName:"ul"},"Static Storage (e.g. AWS S3)",(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"store the editor content snapshot, and the content history."))),(0,n.kt)("li",{parentName:"ul"},"SQL Database (e.g. AWS RDS with PostgreSQL)",(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"store the user basic information, like user id, user name, user email, etc.")))),(0,n.kt)("br",null),(0,n.kt)("br",null),(0,n.kt)("h2",{id:"scalable-infrastructure"},"Scalable Infrastructure"),(0,n.kt)("img",{width:"100%",src:"/img/google-doc-scalable-infrastructure.png",alt:"Google Docs Scalable Infrastructure"}),(0,n.kt)("p",null,"Client-side\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Rich Text Editor"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Sync Engine"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Local update buffer"),(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"the buffer to store local update until the last update is sent to servers, reduce server load and latency.\nif the local buffer is sent to servers, it will be transfer to send update buffer."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Send update buffer"),(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"the buffer which is sent to servers already, but not confirmed by servers.\nif the send update buffer is confirmed by servers, the local buffer can be sent to servers."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Update logs"),(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"the logs from peer by servers, and sync the peer update to local editor.")))))),(0,n.kt)("br",null),(0,n.kt)("p",null,"Server-side\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"WebSocket Server Clusters (e.g. AWS EC2 Cluster)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Redis Broadcast for Pub/Sub (e.g. AWS ElastiCache)"),"\uff1a",(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"the server memory storage to store connection id and get id as soon as possible"))),(0,n.kt)("li",{parentName:"ul"},"WebSocket Load Balancer (e.g. AWS ELB)"),(0,n.kt)("li",{parentName:"ul"},"Restful API Server (e.g. AWS EC2 Cluster)"),(0,n.kt)("li",{parentName:"ul"},"Restful API Load Balancer (e.g. AWS ELB)"),(0,n.kt)("li",{parentName:"ul"},"Static Storage (e.g. AWS S3)"),(0,n.kt)("li",{parentName:"ul"},"SQL Database (e.g. AWS RDS with PostgreSQL)")),(0,n.kt)("br",null),(0,n.kt)("br",null),(0,n.kt)("h2",{id:"references"},"References"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"GreatFrontend - Rich Text Editor")),(0,n.kt)("br",null),(0,n.kt)("br",null))}d.isMDXComponent=!0}}]);